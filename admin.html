<!DOCTYPE html>
<html>
<body>

<h1>Admin Dashboard</h1>
<button onclick="logoutUser()">Logout</button>

<script type="module">
import { protectPage } from "./js/guards.js";
protectPage("admin");
</script>

<script type="module" src="./js/app.js"></script>
<h2>Add Resource</h2>
<input id="title" placeholder="Title">
<input id="price" type="number">
<input id="url" placeholder="File URL">
<button id="addRes">Add</button>

<script type="module">
import { db } from "./js/firebase.js";
import { addDoc, collection }
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

addRes.onclick = async () => {
  await addDoc(collection(db,"resources"), {
    title: title.value,
    price: Number(price.value),
    fileUrl: url.value
  });
  alert("Resource added");
};
</script>
</body>
</html>
